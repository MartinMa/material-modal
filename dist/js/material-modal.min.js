/*!
 * Material Modal v0.1.2
 * Copyright 2016 Mark Rabey <mark@markrabey.com> (markrabey.com)
 * Licensed under the MIT license
 */


var Modal=function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;return c={qsa:function(b){return a.querySelectorAll(b)}},d=c.qsa(".modal__trigger"),e=c.qsa(".modal"),f=c.qsa(".modal__bg"),g=c.qsa(".modal__content"),h=c.qsa(".modal__close"),i=!1,j=400,k=function(b){var c,d,e;b.preventDefault(),c=this,d=c.dataset.modal,d=d.substring(1,d.length),e=a.getElementById(d),l(c,e)},l=function(c,d){var e,f;e=a.getElementById("modal__temp"),null===e&&(f=a.createElement("div"),f.id="modal__temp",c.appendChild(f),f.style.backgroundColor=b.getComputedStyle(c).backgroundColor,m(c,d,f))},m=function(a,c,d){var e,f,g,h,i,k,l,m;e=a.getBoundingClientRect(),f=c.querySelector(".modal__content").getBoundingClientRect(),l=b.innerWidth/2,m=b.innerHeight/2,a.classList.add("modal__trigger--active"),i=f.width/e.width,k=f.height/e.height,i=i.toFixed(3),k=k.toFixed(3),g=Math.round(l-e.left-e.width/2),h=Math.round(m-e.top-e.height/2),c.classList.contains("modal--align-top")&&(h=Math.round(f.height/2+f.top-e.top-e.height/2)),a.style.transform="translate("+g+"px, "+h+"px)",a.style.webkitTransform="translate("+g+"px, "+h+"px)",d.style.backgroundColor="#fff",d.style.transform="scale("+i+","+k+")",d.style.webkitTransform="scale("+i+","+k+")",b.setTimeout(function(){b.requestAnimationFrame(function(){n(c,d)})},j)},n=function(a,b){function c(){b.style.opacity="0",d.removeEventListener("transitionend",c,!1)}if(!i){var d=a.querySelector(".modal__content");a.classList.add("modal--active"),d.classList.add("modal__content--active"),d.addEventListener("transitionend",c,!1),i=!0}},o=function(c){function f(){setTimeout(function(){b.requestAnimationFrame(function(){k.remove()})},j-50)}var h,k,l;if(h=c.target,k=a.getElementById("modal__temp"),i&&h.classList.contains("modal__bg")||h.classList.contains("modal__close")){for(c.preventDefault(),c.stopImmediatePropagation(),k.style.opacity="1",k.removeAttribute("style"),l=0;l<d.length;l++)d[l].style.transform="none",d[l].style.webkitTransform="none",d[l].classList.remove("modal__trigger--active");for(l=0;l<e.length;l++)e[l].classList.remove("modal--active"),g[l].classList.remove("modal__content--active");k.addEventListener("transitionend",f,!1),i=!1}},p=function(){var a;for(a=0;a<d.length;a++)d[a].addEventListener("click",k,!1);for(a=0;a<h.length;a++)h[a].addEventListener("click",o,!1);for(a=0;a<f.length;a++)f[a].addEventListener("click",o,!1)},q=function(){p()},{init:q}}(document,window);Modal.init();