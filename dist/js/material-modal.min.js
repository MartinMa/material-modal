/*!
 * Material Modal v0.1.2
 * Copyright 2016 Mark Rabey <mark@markrabey.com> (markrabey.com)
 * Licensed under the MIT license
 */


var Modal=function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;return c={qsa:function(b){return a.querySelectorAll(b)}},i=!1,q=function(a){var b,c,d;a.preventDefault(),b=this,c=j(b),d=k(b),l(b,c,d)},j=function(b){var c;return c=b.dataset.modal,c=c.substring(1,c.length),a.getElementById(c)},k=function(c){var d,e;return d=a.getElementById("modal__temp"),null===d?(e=a.createElement("div"),e.id="modal__temp",c.appendChild(e),e.style.backgroundColor=b.getComputedStyle(c).backgroundColor,e):void 0},l=function(a,c,d){var e,f,g,h,i,j;e=a.getBoundingClientRect(),f=c.querySelector(".modal__content").getBoundingClientRect(),a.classList.add("modal__trigger--active"),i=f.width/e.width,j=f.height/e.height,i=i.toFixed(3),j=j.toFixed(3),g=Math.round(b.innerWidth/2-e.left-e.width/2),h=Math.round(b.innerHeight/2-e.top-e.height/2),c.classList.contains("modal--align-top")&&(h=Math.round(f.top+f.height/2-e.top-e.height/2)),a.style.transform="translate("+g+"px, "+h+"px)",a.style.webkitTransform="translate("+g+"px, "+h+"px)",d.style.backgroundColor="#fff",d.style.transform="scale("+i+", "+j+")",d.style.webkitTransform="scale("+i+", "+j+")",m(c,d)},m=function(a,b){function c(){b.style.opacity="0",d.removeEventListener("transitionend",c,!1)}if(!i){var d=a.querySelector(".modal__content");a.classList.add("modal--active"),d.classList.add("modal__content--active"),d.addEventListener("transitionend",c,!1),i=!0}},n=function(b){function c(a){a.target===h&&"transform"===a.propertyName&&h.remove()}var f,h,j;if(f=b.target,h=a.getElementById("modal__temp"),i&&f.classList.contains("modal__backdrop")||f.classList.contains("modal__close")){for(b.preventDefault(),b.stopImmediatePropagation(),h.addEventListener("transitionend",c,!1),h.style.opacity="1",h.removeAttribute("style"),j=0;j<d.length;j++)d[j].style.transform="none",d[j].style.webkitTransform="none",d[j].classList.remove("modal__trigger--active");for(j=0;j<e.length;j++)e[j].classList.remove("modal--active"),g[j].classList.remove("modal__content--active");i=!1}},o=function(){var a;for(d=c.qsa(".modal__trigger"),e=c.qsa(".modal"),f=c.qsa(".modal__backdrop"),g=c.qsa(".modal__content"),h=c.qsa(".modal__close"),a=0;a<d.length;a++)d[a].addEventListener("click",q,!1);for(a=0;a<h.length;a++)h[a].addEventListener("click",n,!1);for(a=0;a<f.length;a++)f[a].addEventListener("click",n,!1)},p=function(){o()},{init:p}}(document,window);Modal.init();