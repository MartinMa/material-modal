/*!
 * Material Modal v0.1.2
 * Copyright 2016 Mark Rabey <mark@markrabey.com> (markrabey.com)
 * Licensed under the MIT license
 */


var Modal=function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;return c={qsa:function(b){return a.querySelectorAll(b)}},i=!1,j=4e3,r=function(a){var b,c,d;a.preventDefault(),b=this,c=k(b),d=l(b),m(b,c,d)},k=function(b){var c;return c=b.dataset.modal,c=c.substring(1,c.length),a.getElementById(c)},l=function(c){var d,e;return d=a.getElementById("modal__temp"),null===d?(e=a.createElement("div"),e.id="modal__temp",c.appendChild(e),e.style.backgroundColor=b.getComputedStyle(c).backgroundColor,e):void 0},m=function(a,c,d){var e,f,g,h,i,k;e=a.getBoundingClientRect(),f=c.querySelector(".modal__content").getBoundingClientRect(),a.classList.add("modal__trigger--active"),i=f.width/e.width,k=f.height/e.height,i=i.toFixed(3),k=k.toFixed(3),g=Math.round(b.innerWidth/2-e.left-e.width/2),h=Math.round(b.innerHeight/2-e.top-e.height/2),c.classList.contains("modal--align-top")&&(h=Math.round(f.top+f.height/2-e.top-e.height/2)),a.style.transform="translate("+g+"px, "+h+"px)",a.style.webkitTransform="translate("+g+"px, "+h+"px)",d.style.backgroundColor="#fff",d.style.transform="scale("+i+", "+k+")",d.style.webkitTransform="scale("+i+", "+k+")",b.setTimeout(function(){b.requestAnimationFrame(function(){n(c,d)})},j)},n=function(a,b){function c(){b.style.opacity="0",d.removeEventListener("transitionend",c,!1)}if(!i){var d=a.querySelector(".modal__content");a.classList.add("modal--active"),d.classList.add("modal__content--active"),d.addEventListener("transitionend",c,!1),i=!0}},o=function(c){function f(){setTimeout(function(){b.requestAnimationFrame(function(){k.remove()})},j-50)}var h,k,l;if(h=c.target,k=a.getElementById("modal__temp"),i&&h.classList.contains("modal__backdrop")||h.classList.contains("modal__close")){for(c.preventDefault(),c.stopImmediatePropagation(),k.addEventListener("transitionend",f,!1),k.style.opacity="1",k.removeAttribute("style"),l=0;l<d.length;l++)d[l].style.transform="none",d[l].style.webkitTransform="none",d[l].classList.remove("modal__trigger--active");for(l=0;l<e.length;l++)e[l].classList.remove("modal--active"),g[l].classList.remove("modal__content--active");i=!1}},p=function(){var a;for(d=c.qsa(".modal__trigger"),e=c.qsa(".modal"),f=c.qsa(".modal__backdrop"),g=c.qsa(".modal__content"),h=c.qsa(".modal__close"),a=0;a<d.length;a++)d[a].addEventListener("click",r,!1);for(a=0;a<h.length;a++)h[a].addEventListener("click",o,!1);for(a=0;a<f.length;a++)f[a].addEventListener("click",o,!1)},q=function(){p()},{init:q}}(document,window);Modal.init();